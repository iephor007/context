{{define "head"}}
<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=0.7">
<title>{{option .Meta "page_title"}}</title>
<style>
html, body {
    height:100%;
    width:100%;
    margin:0px;
    background-color:#d8d8d8;
}
header {
    color:white;
    font-size:20px;
    font-family:monospace;
    text-align:center;
    background-color:#0747a6;
    width:100%;
    height:40px;
    position:fixed;
}
header .title {
    padding:6px;
}
header .toggle {
    cursor:pointer;
    width:40px;
    position:absolute;
    left:20px;
    top:5px;
}
header .toggle:hover {
    background-color:blue;
}
header .search {
    position:absolute;
    right:20px;
    top:5px;
}
header .search input {
    font-size:14px;
    background-color:#91d7f5;
    padding:4px;
    width:60px;
}
header .search input:focus {
    width:120px;
}

nav {
    min-width:240px;
    margin-top:40px;
    float:left;
}
nav.fixed {
    overflow:auto;
    max-height:calc(100% - 40px);
    position:fixed;
}
nav>ul {
    padding:0;
    margin:0;
}
nav>ul>li>div {
    cursor:pointer;
    font-size:18px;
    background-color:green;
    padding-left:10px;
    padding:5px;
    width:100%;
}
nav>ul>li>ul>li {
    padding:5px;
}
nav>ul>li>ul>li:hover {
    background-color:green;
}
nav>ul>li>ul>li>a {
    text-decoration-line:none;
}
.mono {
    font-family:monospace;
}

article {
    padding:20px;
    max-width:calc(100% - 40px);
    float:right;
}
article h2 {
    cursor:alias;
}
article h3 {
    cursor:alias;
}
article h4 {
    cursor:alias;
}

article table {
    border-collapse:collapse;
}
article table caption {
    font-weight:bold;
    border:2px solid green;
}
article table tr:hover {
    background:lightgreen;
}
article table th {
    background:lightgreen;
    border:2px solid green;
    text-align:center;
    padding:0;
}
article table th:hover {
    background-color:red;
    cursor:pointer;
}
article table td {
    border:2px solid green;
    text-align:center;
    padding:3px;
}
article table td:hover {
    background-color:red;
}

article pre {
    color:white;
    background-color:#272822;
    overflow:scroll;
    padding:5px;
    border:solid 2px green;
    border-left:solid 4px green;
    margin:0;
    font-size:14px;
    line-height:16px;
}
article div.number1 {
    color:#ff9800;
    font-family:monospace;
    background-color:#272822;
    text-align:right;
    padding:5px 0;
    border:solid green 2px;
    float:left;
}
article div.number1 div {
    padding: 0 5px;
}
article div.number1 div:hover {
    cursor:alias;
    background-color:red;
}

footer {
    height:40px;
    background-color:red;
    text-align:center;
    vertical-align:middle;
    clear:both;
}
</style>
</head>
<body>
{{end}}

{{define "header"}}
<header>
    <div class="toggle" onclick="action(event, 'toggle_nav')">三</div>
    <div class="search"><input type="text" placeholder="搜索"></div>
    <div class="title">shylinux</div>
</header>
{{end}}

{{define "list"}}
<nav>
    <ul>
        <li><div class="toggle_menu" onclick="action(event, 'toggle_list')">文章</div>
            <ul class="list" hidden>
                {{range $i, $l := table .}}
                    <li>
                        <a href="?wiki_favor={{index $l "file"}}">{{index $l "file"}}</a><br/>
                        <span class="mono"> {{index $l "time"}} </span>
                    </li>
                {{end}}
            </ul>
        </li>
        <li><div class="toggle_menu" onclick="action(event, 'toggle_menu')">目录</div>
            <ul class="menu"></ul>
        </li>
        <li><div class="toggle_link" onclick="action(event, 'toggle_link')">参考链接</div>
            <ul class="link" hidden></ul>
        </li>
    </ul>
</nav>
{{end}}

{{define "text"}}
<article>{{result .|meta|unescape}}</article>
{{end}}

{{define "footer"}}
<footer><div>shylinux</div></footer>
{{end}}

{{define "tail"}}
<script src="/librarys/context.js"></script>
<script src="/librarys/wiki.js"></script>
</body>
{{end}}
